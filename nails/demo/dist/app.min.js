c=console,mop.helpers(window,["a","b","button","br","div","li","input","h1","table","td","th","tr","ul","section","span"]);class TodoList extends mop.Box{render(){var e=this._data.map(function(e){return mop.box(TodoItem,e)});return div({},ul({},e))}}class TodoItem extends mop.Box{render(){return li({},this._data.text)}}class Page extends mop.Box{constructor(e){super(),this.route=e.route,this.name=e.name}render(){let e=app.currentPage==this.route?Page.attsVisible:Page.attsHidden;return div(e,this.name)}}Page.trackBy="route",Page.attsHidden={style:"display: none;"},Page.attsVisible={style:"display: block;"};class HomePage extends Page{constructor(e){super(e);let t=this;this.text="",this.todos=[{id:1,text:"wash car"},{id:2,text:"book flights"},{id:3,text:"call Dave"},{id:4,text:"Buy crickets"}],app.action("saveTodo",function(){let e=document.getElementById("add-todo-txt").value;t.todos.push({id:t.todos.length+1,text:e})})}renderAddBtn(){return button({onClick:"app.saveTodo()"},"add")}render(){let e=app.currentPage==this.route?Page.attsVisible:Page.attsHidden;return div(e,[h1({},this.name),input({id:"add-todo-txt"},this.text),this.renderAddBtn(),mop.box(TodoList,this.todos)])}}HomePage.trackBy="route";class PageContainer extends mop.Box{render(){var e=app.pages.map(function(e){return mop.box(e.cls,e)});return div({},e)}}PageContainer.singleton=!0;class MenuEntry extends mop.Box{constructor(e){super(),this.route=e.route,this.name=e.name}render(){return a({href:"#",onclick:"app.showSection('"+this.route+"')"},this.name)}}MenuEntry.trackBy="route";class Menu extends mop.Box{render(){var e=app.pages.map(function(e){return mop.box(MenuEntry,e)});let t=app.menuOpen?"70%":"0%";return div({id:"menu",class:"overlay",style:"width: "+t},[a({href:"#",class:"closebtn",onclick:"app.hideMenu()"},"&times;"),div({class:"overlay-content"},e)])}}Menu.singleton=!0,app=new ViewModel({currentPage:"home",pages:[{cls:HomePage,route:"home",name:"HomePage"}]}),app.action("showMenu",function(){this.menuOpen=!0}),app.action("hideMenu",function(){this.menuOpen=!1}),app.action("showSection",function(e){this.currentPage=e,this.menuOpen=!1}),app.load=function(){let e=this;[[PageContainer,"page-content"],[Menu,"menu"]].forEach(function(t){var n=mop.box(t[0],e);n.element=document.getElementById(t[1]),e._watchers.push(n)}),e.flush()};