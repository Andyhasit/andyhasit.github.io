c=console,mop.helpers(window,["a","b","br","div","li","table","td","th","tr","ul","section","span"]),app={vm:new ViewModel({currentPage:"home",pages:[["home","HomePage"],["page2","Page2"],["page3","Page3"]]})},app.vm.action("showMenu",function(){this.menuOpen=!0}),app.vm.action("hideMenu",function(){this.menuOpen=!1}),app.vm.action("showSection",function(e){this.currentPage=e,this.menuOpen=!1}),app.load=function(){var e=this.vm;[[PageContainer,"page-content"],[Menu,"menu"]].forEach(function(n){var t=mop.box(n[0],e);t.element=document.getElementById(n[1]),e._watchers.push(t)}),e.flush()};class TodoList extends mop.Box{constructor(e){super(),this.todos=e}render(){var e=this.todos.map(function(e){return mop.box(TodoItem,e)});return div({},ul({},e))}}class TodoItem extends mop.Box{constructor(e){super(),this.todo=e}render(){return li({},this.todo.text)}}class Page extends mop.Box{constructor(e){super(),this.route=e[0],this.name=e[1]}render(){let e=app.vm.currentPage==this.route?Page.attsVisible:Page.attsHidden;return div(e,this.name)}}Page.trackBy=0,Page.attsHidden={style:"display: none;"},Page.attsVisible={style:"display: block;"};class PageContainer extends mop.Box{render(){c.log(this);var e=app.vm.pages.map(function(e){return mop.box(Page,e)});return div({},e)}}PageContainer.singleton=!0;class Menu extends mop.Box{render(){var e=app.vm.pages.map(function(e){return a({href:"#",onclick:"app.vm.showSection('"+e[0]+"')"},e[1])});let n=app.vm.menuOpen?"70%":"0%";return div({id:"menu",class:"overlay",style:"width: "+n},[a({href:"#",class:"closebtn",onclick:"app.vm.hideMenu()"},"&times;"),div({class:"overlay-content"},e)])}}Menu.singleton=!0,function(){new Box({tag:"div",element:document.getElementById("page-content"),inner:function(e){return sections.map(function(n){return section(e.currentSection==n.name?shown:hidden,n.text)})}});navViewModel=new ViewModel,navViewModel.currentSection="home",navViewModel.showSection=function(e){this.currentSection=e,this.flush()},navViewModel.hideMenu=function(){this.menuOpen=!1,this.flush()},navViewModel.showMenu=function(){this.menuOpen=!0,this.flush()},window.nav=navViewModel}(),function(){var e={style:"display: none;"},n={style:"display: block;"};menu=new Box({tag:"div",element:document.getElementById("menu-content"),inner:function(t){return sections.map(function(o){return section(t.navigation==o.name?n:e,o.text)})}}),nav=new ViewModel,window.nav=nav}();