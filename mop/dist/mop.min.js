var mop=function(){class t{constructor(t){this._data=t,this._dirty=!0,this._childBoxes=[],this._boxCache={}}static getKey(){return this.singleton?"singleton":void 0!==this.trackBy&&arguments.length>0?arguments[0][this.trackBy]:void 0}push(t){this._data=t,this._dirty=!0}flush(t){(t||this._dirty)&&this._redraw(),this._childBoxes.forEach(function(t){t.flush()})}_redraw(){let t=this.render();void 0==this.element&&(this.element=document.createElement(t.tag)),this._childBoxes.length=0,this._updateNode(this.element,t,this._childBoxes),this._dirty=!1}_updateNode(t,i,s){let n=i.inner;if(this._updateElement(t,i.atts),i.listeners&&this._updateListeners(t,i.listeners),Array.isArray(n))this._updateChildren(t,n,s);else if(void 0!==n&&n instanceof e)this._updateNode(t,n,s);else if(t.innerHTML!==n){t.innerHTML;t.innerHTML=n}}_updateChildren(i,s,n){let h=this,r=document.createDocumentFragment();s.forEach(function(i){let s;i instanceof t?(void 0==i.element?i._redraw():n.push(i),s=i.element):i instanceof e?(s=document.createElement(i.tag),h._updateNode(s,i,n)):(s=document.createElement("div")).innerHTML=i,r.appendChild(s)}),i.innerHTML="",i.appendChild(r)}_updateElement(t,e){for(let i in e)t.setAttribute(i,e[i])}_updateListeners(t,e){for(let i in e)t.addEventListener(i,e[i])}_addCache(t,e){this._boxCache[t.name]={getKey:function(){},boxes:{}}}_(t,...e){let i=t.name,s=t.getKey.apply(t,e);if(void 0==s)return new t(...e);this._boxCache.hasOwnProperty(i)||(this._boxCache[i]={});let n=this._boxCache[i];if(n.hasOwnProperty(s)){let t=n[s];return t.push.apply(t,e),t}{let i=new t(...e);return i._key=s,n[s]=i,i}}}class e{constructor(t,e,i,s){this.tag=t.toUpperCase(),this.inner=i,this.atts=e,this.listeners=s}}const i={Box:t,ViewModel:class{constructor(t){for(var e in this._watchers=[],this._changes=[],t)this[e]=t[e]}flush(){var t=this;this._watchers.forEach(function(e){e.push(t),e.flush()}),this._changes.length=[]}action(t,e){this[t]=function(){e.apply(this,arguments),this.flush()}}bind(t,e){var i=new t(this);i.element=document.getElementById(e),this._watchers.push(i)}},addTags:function(t){let i=this.html;t.forEach(function(t){i[t]=function(i,s,n){return new e(t,i,s,n)}})},html:{}};return i.addTags("a b button br div h1 h2 h3 h4 h5 li i img input p section span table td th tr ul".split(" ")),i}();